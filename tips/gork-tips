# パターンの作成
Grok Constructor
https://grokconstructor.appspot.com/do/match

# ログのパターン
https://github.com/logstash-plugins/logstash-patterns-core/blob/master/patterns/grok-

# DBの作成
CREATE EXTERNAL TABLE `mygroktable`(
   host string,
   user string,
   method string,
   path string,
   code int,
   size int,
   referer string,
   agent string
   )
ROW FORMAT SERDE
   'com.amazonaws.glue.serde.GrokSerDe'
WITH SERDEPROPERTIES (
   'input.format'='host:%{IPV4:host}(.)(%{NOTSPACE:user})(.method:)(%{NOTSPACE:method})(.path:)(%{NOTSPACE:path})(.code:)(%{NOTSPACE:code})(.size:%{NOTSPACE:size})(.)(%{NOTSPACE:referer})(.agent:)(%{GREEDYDATA:agent})'
   )
STORED AS INPUTFORMAT
   'org.apache.hadoop.mapred.TextInputFormat'
OUTPUTFORMAT
   'org.apache.hadoop.hive.ql.io.HiveIgnoreKeyTextOutputFormat'
LOCATION
   's3://logs3-webas-ap-northeast-1-448369008816/logs/';
